\
# ROADMAP.md

## Принципы
- MVP должен быть пригоден для реальной игры “Система + Игрок” по LAN.
- Сначала надёжная синхронизация и права, затем — красота.
- Всё редактируемое системой хранится, версионируется и экспортируется.

---

## 0) Подготовка (день 0)
- Создать каркас репо по структуре из Agents.md
- Вынести доменные модели/правила из `core.py` в `/domain`
- Тесты на:
  - XP экспоненциальная
  - начисление очков за уровни
  - экипировка (двуручное оружие, кольца, слоты)

---

## 1) MVP (v0.1) — “можно играть”
### 1.1 Сервер и синхронизация
- Host server (HTTP + WebSocket)
- PIN pairing (host создаёт PIN, игрок вводит)
- Event log (seq + reconnect “догонялка”)
- Snapshot storage (SQLite или JSON store)
- Экспорт/импорт JSON кампании

### 1.2 Два интерфейса
- Host UI: редактор + библиотека заготовок + контроль
- Player UI: просмотр + разрешённые действия
- Отдельная панель/окно системных сообщений
- История сообщений/логов

### 1.3 Персонаж, XP и левелап
- Лист персонажа с секциями
- XP шкала (экспоненциальная) + кнопка +XP у Системы
- Левелап:
  - начисление очков характеристик
  - “левелап эффект”
  - пакетный левелап ×N
- Очки характеристик:
  - отображение “доступно”
  - распределение игроком (в рамках разрешений)

### 1.4 Инвентарь и экипировка
- Предметы: редкости + цветовые стили
- Инвентарь: сортировка + карточка предмета
- Слоты экипировки:
  - 2 оружия (двуручное занимает оба)
  - голова/туловище/штаны/ботинки
  - 2 кольца
- Бонусы экипировки:
  - стат-моды
  - выдача способностей

### 1.5 Способности
- Категории источников (создаёт система)
- Вкладка игрока: группы по категориям
- Система: скрыть/отключить/удалить способности

### 1.6 Квесты
- Квесты: цели, награды, статусы
- Флаг “нельзя отказаться”
- Защита от дублирования активного квеста

### 1.7 Сообщения и звук
- Collapsible messages + non-collapsible flag
- Choice messages: до/после выбора
- 3 типа звука + настройка

### 1.8 Авто-лог
- Автолог ключевых действий (минимум список из PRODUCT_SPEC.md)

---

## 2) v0.2 — “удобство системы”
- Редактор правил из UI:
  - base_xp, growth_rate
  - шаблоны начисления очков (оставить дефолт, но сделать настраиваемым)
  - классовые пер-левел бонусы (X|Y|Z → выбранные статы)
- Библиотека заготовок:
  - шаблоны предметов/квестов/сообщений
  - быстрые кнопки “отправить игроку”
- Шаблоны повторяющихся сообщений
- Тонкие настройки листа персонажа (структура, секции, видимость)

---

## 3) v0.3 — “мессенджер и линковки”
- Друзья:
  - заявки отправляет Система
  - игрок принимает → чат открывается
- Messenger chat UI
- Линки-карточки:
  - пресеты НПС/игроков (имя/класс/уровень/HP)
  - квесты/лут (карточка описания)
- Отправка линков из чат-сообщений

---

## 4) v0.4 — “полировка”
- Улучшение UX:
  - drag&drop из библиотеки
  - быстрые фильтры/поиск по предметам/квестам
- Настройка звуков, громкости
- Расширенный экспорт (отдельно: шаблоны, лог, чаты)
- Миграции формата данных (версионирование)

---

## 5) v1.0 — “стабильный релиз”
- Документация для пользователя (Host/Player)
- Набор демо-контента (шаблоны)
- Набор автотестов регрессии
- Опциональные иконки-пакеты

